{% extends "ch-node-utils/templates/layouts/template.njk" %}

{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}
{% from "govuk/components/footer/macro.njk" import govukFooter %}
{% from "govuk/components/header/macro.njk" import govukHeader %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/inset-text/macro.njk" import govukInsetText %}
{% from "govuk/components/panel/macro.njk" import govukPanel %}
{% from "govuk/components/phase-banner/macro.njk" import govukPhaseBanner %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "govuk/components/select/macro.njk" import govukSelect %}
{% from "govuk/components/service-navigation/macro.njk" import govukServiceNavigation %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/date-input/macro.njk" import govukDateInput %}
{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}
{% from "web-security-node/components/csrf-token-input/macro.njk" import csrfTokenInput %}

{% import "ch-node-utils/templates/add-lang-to-url.njk" as lang2url %}

{% block head %}
  {{ super() }}
  <!--[if !IE 8]><!-->
  <link href="{{ cdnHost }}/stylesheets/extensions/languages-nav.css" rel="stylesheet"/>
  {% include "includes/styles/styles.njk" %}
  <!--<![endif]-->

  <script src="//code.jquery.com/jquery-3.6.0.js"
          integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
          crossorigin="anonymous">
  </script>

{% endblock %}

{% block bodyStart %}
  {% include "includes/cookie-consent-banner.njk" %}
{% endblock %}

{% block pageTitle %}
  {% include "includes/page-title.njk" %}
{% endblock %}

{% block beforeContent %}
  {% include "includes/phase_banner.njk" %}
  <div id="user-banner" style="margin-bottom: 25px; border-bottom: 1px solid #b1b4b6; display: grid; grid-template-columns: 1fr auto; grid-template-rows: auto auto; align-items: end;">
    <div style="grid-column: 2; grid-row: 1; justify-self: end;">
      {% include "ch-node-utils/templates/locales-banner.njk" %}
    </div>

    <div style="grid-column: 1; grid-row: 2; justify-self: start;">
      {% block backLink %}
        {% include "includes/back-link.njk" %}
      {% endblock %}
    </div>
    
    <div style="grid-column: 2; grid-row: 2; justify-self: end;">
      {% block signOutBanner %}
        {% include "includes/sign-out-user-banner.njk" %}
      {% endblock %}
    </div>
  </div>
{% endblock %}

{% block header %}
  {% include "includes/header.njk"%}
{% endblock %}

{% block footer %}
  {{ govukFooter({
    meta: {
      items: [
        {
          href: "http://resources.companieshouse.gov.uk/legal/termsAndConditions.shtml",
          text: "Policies"
        },
        {
          href: "/help/cookies",
          text: "Cookies"
        },
        {
          href: "/help/contact-us",
          text: "Contact us"
        },
        {
          href: OE_CONFIGS.ACCESSIBILITY_STATEMENT_URL,
          text: "Accessibility statement"
        },
        {
          href: "//developer.companieshouse.gov.uk/",
          text: "Developers"
        }
      ]
    }
  }) }}
{% endblock %}

{% block bodyEnd %}
  {{ super() }}
  {% include "includes/piwik-scripts.njk" %}
{% endblock %}
