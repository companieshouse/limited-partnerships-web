{% macro formatAddress(address) %}
  {% set premises = '' %}
  {% set address_line_1 = '' %}
  {% set address_line_2 = '' %}
  {% set locality = '' %}

  {% if address.premises %}
    {% set premises = address.premises | capitalize + ' ' %}
  {% endif %}

  {% if address.address_line_1 %} 
    {% set address_line_1 = address.address_line_1 | capitalize + ', ' %} 
  {% endif %}

  {% if address.address_line_2 %} 
    {% set address_line_2 = address.address_line_2 | capitalize + ', ' %} 
  {% endif %}

  {% if address.locality %} 
    {% set locality = address.locality | capitalize + ', ' %} 
  {% endif %}

  {% set address = premises + address_line_1 + address_line_2 + locality + address.postal_code %}

  {{ address }}
{% endmacro %}

{% macro htmlInputErrorMessage(message) %}
  {% set errorMessage = "this.setCustomValidity('" + message + "')" %}

  {{ errorMessage }}
{% endmacro %}

{% macro htmlOptionErrorMessage(message, name) %}
  {% set errorMessage = "document.querySelectorAll('input[name=" + name + "]:checked').length === 0 ? this.setCustomValidity('" + message + "') : this.setCustomValidity('')" %}

  {{ errorMessage }}
{% endmacro %}
